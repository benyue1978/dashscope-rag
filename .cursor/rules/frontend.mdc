---
description: frontend rules
alwaysApply: false
---
name: Next.js å‰ç«¯è§„åˆ™ï¼ˆDashScope RAG é¡¹ç›®ï¼‰
version: "1.0"
globs:
  - "frontend/**/*.{ts,tsx,js,jsx}"
triggers:
  - file_open
  - file_change
description: |
  æœ¬è§„åˆ™ç”¨äºè¾…åŠ©ç”Ÿæˆç¬¦åˆé¡¹ç›®ç»“æ„ä¸è®¾è®¡é£æ ¼çš„å‰ç«¯ä»£ç ï¼Œé¡¹ç›®åŸºäº Next.js + Tailwind CSS + Axiosï¼Œä½œä¸º DashScope RAG ç³»ç»Ÿçš„ç”¨æˆ·ç•Œé¢ã€‚

rules:
  # ğŸ§± æ¶æ„ç»“æ„è¦æ±‚
  - ä½¿ç”¨ App Routerï¼ˆNext.js 13+ï¼‰
  - æ‰€æœ‰é¡µé¢æ”¾åœ¨ `frontend/app/` ä¸‹ï¼Œç»„ä»¶æ”¾åœ¨ `frontend/components/` ä¸‹
  - å‰ç«¯é¡µé¢åº”è°ƒç”¨åç«¯ `/chat` æ¥å£ï¼ˆPOST æ–¹æ³•ï¼‰ï¼Œä¼ å…¥ `content` å’Œ `user_query` å­—æ®µ
  - ä½¿ç”¨ `axios` å¤„ç† API è¯·æ±‚
  - ä½¿ç”¨ `useState` å’Œ `useEffect` è¿›è¡ŒçŠ¶æ€ç®¡ç†å’Œå‰¯ä½œç”¨æ§åˆ¶
  - å¦‚æœæ¶‰åŠå¤æ‚çŠ¶æ€ï¼Œè¯·ä½¿ç”¨ `useReducer`

  # ğŸ¨ UI å’Œæ ·å¼è¦æ±‚
  - ä½¿ç”¨ Tailwind CSS ç¼–å†™æ ·å¼ï¼Œä¸ä½¿ç”¨ styled-components æˆ– CSS module
  - æ‰€æœ‰ UI å…ƒç´ é£æ ¼å°½é‡ä¿æŒç®€æ´ã€å“åº”å¼ï¼Œé€‚é…ç§»åŠ¨ç«¯
  - æ¨èç»“æ„ï¼šæ–‡æœ¬è¾“å…¥æ¡†ï¼ˆcontentï¼‰ã€é—®é¢˜è¾“å…¥æ¡†ï¼ˆqueryï¼‰ã€å‘é€æŒ‰é’®ã€å›ç­”å±•ç¤ºæ¡†ã€å¼•ç”¨å±•ç¤ºåŒº
  - è¾“å…¥åŒºåŸŸå’Œè¾“å‡ºåŒºåŸŸå»ºè®®ä½¿ç”¨å¡ç‰‡æˆ–ç™½åº•åœ†è§’å®¹å™¨åŒ…è£¹

  # ğŸ“¦ æŠ€æœ¯ä¾èµ–è¦æ±‚
  - ä½¿ç”¨ `axios` å‘èµ· API è¯·æ±‚ï¼Œå¿…è¦æ—¶å°è£…ä¸º `lib/api.ts`
  - ä½¿ç”¨ `classnames` æˆ– `clsx` ç®€åŒ–æ ·å¼ç»„åˆ
  - å¦‚æœéœ€è¦å¼¹çª—æˆ–åŠ è½½æç¤ºï¼Œä¼˜å…ˆä½¿ç”¨ `@headlessui/react` æˆ– `@radix-ui/react-*`

  # ğŸ§ª è´¨é‡ä¸äº¤äº’é€»è¾‘
  - æ‰€æœ‰è¯·æ±‚éœ€å¤„ç†å¼‚å¸¸ï¼šè¯·æ±‚å¤±è´¥åº”æç¤ºç”¨æˆ·
  - å¢åŠ  loading çŠ¶æ€æ§åˆ¶ï¼ˆå¦‚æŒ‰é’®ç¦ç”¨ã€åŠ è½½åŠ¨ç”»ï¼‰
  - æ‰€æœ‰ç”¨æˆ·è¾“å…¥åº”è¿›è¡ŒåŸºæœ¬éªŒè¯ï¼ˆéç©ºï¼Œé•¿åº¦é™åˆ¶ï¼‰
  - ç»„ä»¶å‘½åä½¿ç”¨ PascalCaseï¼Œæ–‡ä»¶å‘½åä½¿ç”¨ kebab-case
  - æ‰€æœ‰ç»„ä»¶å»ºè®®æ‹†åˆ†ä¸º `é€»è¾‘ + å±•ç¤º` ä¸¤å±‚ï¼ˆå¦‚ `ChatBox.tsx + useChat.ts`ï¼‰

  # ğŸ§  AI è¡Œä¸ºå»ºè®®
  - ç”Ÿæˆé¡µé¢æ—¶é»˜è®¤åŒ…å«è¾“å…¥åŒºã€ç»“æœåŒºã€è°ƒç”¨æ¥å£é€»è¾‘
  - ç¼–å†™ç»„ä»¶æ—¶è¯·è¯´æ˜ props ç±»å‹ä¸ä½¿ç”¨æ–¹å¼
  - å¦‚æœç”Ÿæˆçš„ç»„ä»¶è¿‡å¤§ï¼ˆ>100è¡Œï¼‰ï¼Œè¯·è‡ªåŠ¨æ‹†åˆ†ä¸ºå­ç»„ä»¶å¹¶æ”¾å…¥ components æ–‡ä»¶å¤¹
  - å¦‚æœç»„ä»¶ä¸åç«¯æ¥å£ç»‘å®šï¼Œç”Ÿæˆè¯´æ˜æ³¨é‡Šæ ‡æ˜æ¥å£å­—æ®µç»“æ„

references:
  - components/ChatBox.tsx
  - app/page.tsx
  - lib/api.ts